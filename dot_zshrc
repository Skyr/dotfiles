# Path to your oh-my-zsh configuration.
export ZSH=$HOME/.oh-my-zsh
export ZSH_CUSTOM=$HOME/.oh-my-zsh-custom

# Set name of the theme to load.
# Look in ~/.oh-my-zsh/themes/
# Optionally, if you set this to "random", it'll load a random theme each
# time that oh-my-zsh is loaded.
#export ZSH_THEME="robbyrussell"
#export ZSH_THEME="gentoo"
#ZSH_THEME="eye_scarab_pl"  # Needs plugin vi-mode
#ZSH_THEME="agnoster"
#ZSH_THEME="kphoen"

POWERLEVEL9K_MODE=nerdfont-complete
POWERLEVEL9K_CONTEXT_DEFAULT_FOREGROUND=white
POWERLEVEL9K_CONTEXT_DEFAULT_BACKGROUND=grey35
POWERLEVEL9K_CONTEXT_REMOTE_FOREGROUND=white
POWERLEVEL9K_CONTEXT_REMOTE_BACKGROUND=blue
POWERLEVEL9K_CONTEXT_ROOT_FOREGROUND=white
POWERLEVEL9K_CONTEXT_ROOT_BACKGROUND=darkred
POWERLEVEL9K_CONTEXT_SUDO_FOREGROUND=white
POWERLEVEL9K_CONTEXT_SUDO_BACKGROUND=darkred
POWERLEVEL9K_CONTEXT_REMOTE_SUDO_FOREGROUND=white
POWERLEVEL9K_CONTEXT_REMOTE_SUDO_BACKGROUND=darkred
POWERLEVEL9K_DIR_ETC_FOREGROUND=grey78
POWERLEVEL9K_DIR_ETC_BACKGROUND=grey50
POWERLEVEL9K_DIR_HOME_FOREGROUND=grey78
POWERLEVEL9K_DIR_HOME_BACKGROUND=grey50
POWERLEVEL9K_DIR_HOME_SUBFOLDER_FOREGROUND=grey78
POWERLEVEL9K_DIR_HOME_SUBFOLDER_BACKGROUND=grey50
POWERLEVEL9K_DIR_DEFAULT_FOREGROUND=grey78
POWERLEVEL9K_DIR_DEFAULT_BACKGROUND=grey50
POWERLEVEL9K_VCS_CLEAN_FOREGROUND=grey78
POWERLEVEL9K_VCS_CLEAN_BACKGROUND=grey35
POWERLEVEL9K_VCS_UNTRACKED_FOREGROUND=white
POWERLEVEL9K_VCS_UNTRACKED_BACKGROUND=grey35
POWERLEVEL9K_VCS_MODIFIED_FOREGROUND=white
POWERLEVEL9K_VCS_MODIFIED_BACKGROUND=grey35

POWERLEVEL9K_SHORTEN_DIR_LENGTH=3
POWERLEVEL9K_SHORTEN_STRATEGY=truncate_from_right
POWERLEVEL9K_LEFT_PROMPT_ELEMENTS=(context dir)
POWERLEVEL9K_RIGHT_PROMPT_ELEMENTS=(status virtualenv root_indicator background_jobs vcs)
ZSH_THEME="powerlevel/powerlevel9k"


# Set to this to use case-sensitive completion
# export CASE_SENSITIVE="true"

# Comment this out to disable weekly auto-update checks
# export DISABLE_AUTO_UPDATE="true"

# Uncomment following line if you want to disable colors in ls
# export DISABLE_LS_COLORS="true"

# Uncomment following line if you want to disable autosetting terminal title.
# export DISABLE_AUTO_TITLE="true"

# Which plugins would you like to load? (plugins can be found in ~/.oh-my-zsh/plugins/*)
# Example format: plugins=(rails git textmate ruby lighthouse)
plugins=(git gitfast git-extras gradle tmux zsh-navigation-tools fasd fzf colored-man-pages docker mosh ripgrep)
# github disabled

zstyle :omz:plugins:ssh-agent identities `ls ~/.ssh/id* | grep -v ".pub$"`


#if [ "$TERM"=="rxvt" ] && [ -e /usr/share/terminfo/r/rxvt-unicode-256color ]; then
#	export TERM="rxvt-unicode-256color"
#fi
if [[ "$TERM" == "rxvt" ]] && [[ -e /usr/share/terminfo/r/rxvt-256color ]]; then
  export TERM="rxvt-256color"
fi
if [[ "$TERM" == "rxvt-256color" ]] && ! [[ -e /usr/share/terminfo/r/rxvt-256color ]]; then
  export TERM="rxvt"
fi
if [[ "$TERM" == "rxvt" ]] && ! [[ -e /usr/share/terminfo/r/rxvt ]]; then
  export TERM="xterm"
fi
if [[ "$TERM" == "xterm" ]] && [[ -e /usr/share/terminfo/x/xterm-256color ]]; then
  export TERM="xterm-256color"
fi

#if [ -z "$GPG_AGENT_INFO" ] || [ ! -e "$GPG_AGENT_INFO" ] ; then
#  if [ -f "${HOME}/.gpg-agent-info" ]; then
#    . "${HOME}/.gpg-agent-info"
#    if ! ps -p $SSH_AGENT_PID >/dev/null ; then
#      gpg-agent --daemon --enable-ssh-support > /dev/null
#      . "${HOME}/.gpg-agent-info"
#    fi
#  fi
#  export GPG_AGENT_INFO
#  export SSH_AUTH_SOCK
#fi

alias du1="du -hs *(/)"

if command -v fasd > /dev/null ; then
  eval "$(fasd --init auto)"
fi
if command -v navi > /dev/null ; then
  source <(navi widget zsh)
fi
if command -v exa > /dev/null ; then
  alias exa='exa -lghH --git --color-scale'
  alias l="exa -aa"
  alias l.="exa -d .*"
  alias la="exa -a"
  alias ll="exa"
  alias lsa="exa -aa"
fi
export FZF_DEFAULT_OPTS="--no-mouse --height 50% -1 --reverse --multi --preview '[[ \$(file --mime {}) =~ binary ]] && echo {} is a binary file || (bat --style=numbers --color=always {} || cat {}) 2> /dev/null | head -200' --preview-window='right:hidden:wrap' --bind='f2:toggle-preview,f3:execute(bat --style=numbers {} || less -f {}),ctrl-d:half-page-down,ctrl-u:half-page-up,ctrl-a:select-all,ctrl-r:toggle-all'"
export FZF_DEFAULT_COMMAND="git ls-files --cached --others --exclude-standard || fd -type f -type l"
export FZF_CTRL_T_COMMAND="fd $FD_OPTIONS"
export FZF_ALT_C_COMMAND="fd --type d $FD_OPTIONS"

export EDITOR=`(which vim || which vi || which nano) | grep "^/"`
if [[ -z "$XDG_CONFIG_HOME" ]] ; then
  export XDG_CONFIG_HOME=$HOME/.config
fi


export LANG=en_US.UTF-8
export LC_CTYPE=en_US.UTF-8
export LC_NUMERIC=de_DE.UTF-8
export LC_TIME=de_DE.UTF-8
export LC_COLLATE=de_DE.UTF-8
export LC_MONETARY=de_DE.UTF-8
export LC_MESSAGES=en_US.UTF-8
export LC_PAPER=de_DE.UTF-8
export LC_NAME=de_DE.UTF-8
export LC_ADDRESS=de_DE.UTF-8
export LC_TELEPHONE=de_DE.UTF-8
export LC_MEASUREMENT=de_DE.UTF-8
export LC_IDENTIFICATION=de_DE.UTF-8


[ -f ~/.zshrc.local ] && source $HOME/.zshrc.local

source $HOME/.oh-my-zsh/oh-my-zsh.sh

